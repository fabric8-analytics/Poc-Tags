      var userRespData = {};

      var aggregatedTagList = ["django","urls","python","functional-programming","utilities","flask","wsgi","web-framework","werkzeug","jinja","python27","python36","ansible","ansible-roles","ansible-galaxy","ansible-galaxy-improvement","git","aws-cloudformation","python3","pyowm","python-wrapper","api","openweathermap","openweathermap-api","api-client","pytest","mock","wechat","weixin","whois","ip-address","ipv4","ipv6","rwhois","asn","nic","rir","ietf","rdap","bsd-license","oauth2","provider","emoji","nlp","nltk","pattern","python-3","python-2","natural-language-processing","flask-extensions","flask-cors","cors","bencode","bencode-parser","mysql-db","mysql-client","sql","postgres","sqlalchemy","orm","schemas","kennethreitz","opencv","wrapper","wheel","python-2-7","opencv-python","opencv-contrib-python","precompiled","text-processing","text-parser","python-module","twisted","tor","async-programming","fake","testing","dataset","fake-data","test-data","test-data-generator","cache","data-structures","statistics","data-science","file","queue","json","recursive","mysql","mysql-replication-protocol","mysql-binlog","selenium","webdriver","java","ruby","cython","murmurhash","murmurhash2","twitter","network","http","http-client","nsq","client-library","c","monitoring","ps","top","netstat","cpu","memory","memory-analysis","freebsd","osx","windows","netbsd","openbsd","linux","disk","sensors","windows-service","system-monitoring","process-monitor","money","celery","task-queue","administration","workers","rabbitmq","redis","asynchronous","telegram","bot","chatbot","framework","msgpack","numpy","backport","compatibility","monotonic","clock","machine-learning","deep-learning","artificial-intelligence","ai","spacy","machine-learning-library","wsgi-server","http-server","ipython","debugger","nosql","database","documentdb","bokeh","interactive-plots","javascript","visualization","plotting","plots","sqlite","postgresql","peewee","extension","natural-sort","sorting-interface","scandir","directory","iterator","performance","aiohttp","pyramid","falcon","bottlepy","marshmallow","validation","request-validation","security","hmac","serialization","news","crawler","crawling","scraper","news-aggregator","tensorflow","theano","neural-networks","ssl","hooks","linter","lint","yaml","graphene","graphql","url","url-parsing","rfc-3986","internet","gbdt","gbrt","gbm","distributed-systems","xgboost","automl","automation","scikit-learn","hyperparameter-optimization","model-selection","parameter-tuning","automated-machine-learning","random-forest","gradient-boosting","feature-engineering","parser","mediawiki","wikipedia","datetime","date","time","timezones","infrastructure-as-code","devops","tdd","nagios","docker","tdd-utilities","devops-tools","configuration-management","dotenv","backend","logging","library","proxy","socks-proxy","scrapy","kafka","scraping","distributed","crash-reporting","crash-reports","sentry","sentry-client","relay","sendgrid","email","transactional-emails","slack","events","pysnmp","snmp","snmpv3","mib","docker-engine-api","python-library","docker-swarm","chatterbot","corpus","dialog","language","progressbar","progressmeter","progress-bar","meter","rate","eta","console","terminal","progress","bar","gui","parallel","cli","polyline","dhcp","operations","devtools","swagger","rest","restful","restplus","pyasn1","protocols","network-protocols","deserialization","marshalling","hjson","newsapi","newsfeed","news-feed","api-wrapper","python-api-wrapper","python-api","zeroconf","bonjour","avahi","service-discovery","django-braces","class-based","views","cbvs","cbv","nlp-parsing","probabilistic-parser","scikit-learn-api","forest","tree","scientific-computing","retry","backoff","asyncio","synchronous","exceptions","retrying","decorators","exponential","manipulating-urls","url-manipulation","async","ascii","box","table","openapi","netcdf","pandas","dataframes","data-analysis","pydata","http-mock","http-mocking","fakeweb","dynamic-responses","httpretty","python2","streaming-response","testing-tools","optimization","gaussian-processes","bayesian-optimization","simple","boilerplate","attributes","classes","graph","chart","histogram","filters","html-tags","sanitise","bio-informatics","data-validation","schema-validation","type-checking","aws-api","amazon","amazon-product-advertising","deployment","asset-management","web","configure","twelve-factor","custom-management","connection-pool","dns","encoder","slugify","format","style","coding","pep8","interpreter","broadcast","markup","interface","scheduler","cron","pagination","container-runtime","remote-access","in-memory","driver","documentation","static-web","storage","promise","unicode","resource-management","cloud-storage","speech-recognition","translation","meta-data","media","csv","rpc","algorithm-analysis","template","authorization","authentication","encryption","task-execution","vcard","calendar","color","crossplatform","bootstrap","full-width","session","socket","cornice","analytics","scanner","issue-tracker","tld","engine","appinsights","localization","thrift","internationalization","hash","password","forensic","artifacts","repository","astronomy","spatial","index","querying","decryption","cryptography","plone","untrusted","sandbox","nose","nosetest","mime","subscribe","abstraction","android","arithmetic","arithmetic-expression","atom","aws","aws-sdk","bcrypt","binary-signature","binary-stream","binding","bindings","bioinformatics","bitcoin","blockchain","c++","cdf","charge","client","cloud","cloud-management","cloudman","codecov-python","command","command-line","common-expression","compliance","concurrent","convex","cprofile","cpython","css","cyber","cybox","d2to1","db-api-2","decode","dictionary","distributions","distutils2","docstrings","doctests","dom","drawing","edit","encode","english","expression","extract","field","flowchart","front-end","generator","geometric","geospatial","gis","glance","gmp","gnome","gobject","google","graphite","graphviz","gravatars","gtk+3","hashing","header","highlight-syntax","hotshot","html","html-escape","http2","https","icalendar","id3v1","id3v2","images","inject","input","instance-attribute","intercept","ios","iptables","itunes-extensions","key","lambda","last-fm","lastfm","lbry","lbrycrd","libdiscid","libre","libre-fm","librefm","line","macos","mailchimp","man-in-the-middle","mandrill","matplotlib","matplotlib-plot","metadata","minifier","mp3","mp3tag","mpc","mpfr","music","native","networking","non-blocking-io","observable","openssh","openstack","optimisation","packets","paramiko","payments","pdf","pep-257","pickle","plugin","pooled-connections","profile","profiler","projects","ptotobuf","pty","pycrypto","pygobject","pylast","pypdf2","pypi","python-2.7","python-3.3","python-decorators","reports","request","response","rss","save-file","scan","schema","science","scp1","sdk","semver","serialisation","server","shell","slug","slug-field","sphinx","static-analysis","stats","stix","streaming","stripe","subprocess","subscriptions","svg","syndicate-feeds","system-tools","tables","telegram-bot","template-engine","terminate","tests","text","theme","timeout","title","tls","traits","transformation","translate","transport","ui","unit-test-discovery","usegalaxy","versioning","view","webservice","websocket","words","xml","embedded","serial-port","identity-management","openid","load-balancing","jwt","compact-anguage-detection","packaging","image-processing","app","enumeration","flake8","pylama","debug","flask-debug","tokens","flask-httpauth","csrf","pep362","xml-parser","html-parser","task-processing","metrics","time-series","database-management","DoS","bomb","serial-communication","file-storage","bucket-storage","object-storage","PubSubHubbub-protocol","audit","bundler","webpack","build","pipeline","reading","writing","benchmarking","porting","forward-port","infrastructure-management","service","management","message-queue","soap","filesystem","game","gaming","github","kernel","notebook","code","codeshare","code-coverage","geolocation","compression","helpers","routing","integration","unit-testing","csl","code-validation","haml","browser","processor","bibtex","citation","declarative","google-compute-engine","binary-data","virtual-machine","compress","heroku","mem-cache","hijack","customer-support","LRU","ECDSA","tornado","accelerator","domain","battery","signature","data-modelling","certificates","compiler","bzip2","elasticsearch","search","discover","load","entry-points","environment","symbolic-constants","memoization","variable","rdf","rdfql","posix_fadvise","feed","migration","argparse","IO","Multiplexing", "forms", "markdown","configfile","rate-limit","sequences","geocoding","data-storage","transmission","model","single-table",
      "css3-parser","cms","galaxy","alembic","robust","enumerated","messaging","kombu","enum","xpath","fork","remote-execution","remote","test",
      "versatile","reactive","web-app","fixtures","form-validation","conversion","registry","read-only","generation","research","reinforcement-learning","openai","lightweight","programming","multiplexer","Django Admin","jQuery","AutoComplete","holidays","gps","auth","fast","efficient",
      "unrar","rar","compress","non-xml","json-nodes","jsonrpc","file-locking","constants","matrix","host","columnar","multiprocessing","maths","modular-search","onedrive","model-mixins","microsoft","constraint-solving","map","form-rendering","login","model-inheritance","padding","context","user-registration","credential","oauth","fixtures-replacement","ssl2","ftp","ebay-api","daemontools","human","readable","file-sizes","xpath","tools","ntfs","fvde","FileVault2","access","storage-media","raw-image","vhd-image","apps","create","object","hyperv","string-manipulation","exception-handling","superuser","execute","time-handling","vmware","pam","data","interactive-application","imaging","repl","pushbullet","PortAudio","subtitles","openssl","socket.io","stand-alone","file-lock","file-locking","node","aes","pcap","packet","capture","win32-api","sendmail","package","various","orchestration","download","build","install","upgrade","uninstall","amazon-s3","key-insertion-order","unittest","nose-plugin","number","pushover","convert","computing","post","get","webform","multipart","intelligent","spell-checking","full text indexing","interactive","workflow","soundcloud","s-expressions","xmpp","rsa","dispatch","webob","routes","persistent","qr-code","virtualenv","updates","check","uwsgi","Application Deployment","Configuration Management","hdfs","Continuous Delivery","sahara","nova","source-code","pyint","writer","yelp","sensu","virtual-interface","plugging","unplugging","pdf-toolkit","privilege-separation",
      "privilege","behaviour","playbook","practice","ASN.1","parser","Evernote Cloud API","representation","google-chromecast","brick-library",
      "excel-files","cdn","highlight","neo4j","static-typing","audio","video","objects","boto","apache","executor","imdb","one-time-password",
      "two-factor","multi-factor","Jupyter","pandoc","convertor","document-convertor","ssh2","heroku-cloud","interaction","oauth","static-configuration","loading","redis","widgets","character","japanese","coroutine","google-hangout","hachoir-framework","directory-watching","ObjectProxy","loop-on-failing","scca","composable-cycles","mongodb","random","name-generator","jupyter","neutron","routines","imaging-library",
      "key-management","barbican","telemetry","ceilometer","powerpoint","bitbucket-cloud-api","ppt","office","socketio","dbaas",
      "gntp","speech","text-to-speech","libvex","vex","bottle","ply-parsing","c-language-parser","code-analysis","freeze","bundle","platform-independent","fullmapping","http-library","saml2","apache-storm","real-time-stream","string-similarity","edit-distance","in-process","mime-type","media-range","event-loop-api","pep3156","regular-expression","private-project","soa-services","snowball","algorithm","stemmer","vcr","wide-character","terminal-column-cell","iso-database","monkey-patching","yubico-otp","validation protocol version 2.0","manipulation","jobs","periodic","gulp","data-visualization","virtual disk","semantic",
      "identity","service-identity","service_identity","functions","symbolic-execution","tcp","syntax","inference","tom","controller","onion","tinydb","minimal","probability","wireless-card","connect","amqp","broker","uri","templates","utility","version","domain-model","gui-toolkit","usb","toolkit","manager","youtube","odm","import","keyring","serverless"];

      var users = ["dummy","srikrishana", "tuhin", "bhargava", "harjinder", "mitesh", "sam", "sarah", "jai", "arun", "geetika", "jaysveer", "saket"];

      function setupUser(){
        $("#userSel").empty();
        for(var i =0;i< users.length;i++){
          $("#userSel").append('<option>'+users[i]+'</option>');
        }
      }

      function getUserInfoFunc(ev){
        ev.preventDefault();
        var selUserName = $('#userSel').find(":selected").text();
        //TODO : make get ajax call
        var userData = {"user":""}
        userData.user = selUserName;
        var urlUser = "http://tagging-tag-data.dev.rdu2c.fabric8.io/api/v1/get_user";
        $.ajax({
            type: "POST",
            url: urlUser,
            data: JSON.stringify(userData),
            contentType: "application/json", 
            success: function(response){
                $("#user1").show();
                $("#userTxt").text(selUserName);
                userRespData = response;
                populatePackageList(userRespData.data["package_topic_map"]);
            },
            error: function(err){
                alert("failed to fetch user data" + err);
            }
        });
      }

      function populatePackageList(data){
        $("#package-list").empty();
        var pkgList = Object.keys(data);
        for(var i =0;i<pkgList.length;i++){
            var pkg = pkgList[i];
            var tags = data[pkg];
           $("#package-list").append('<li style="background: ' + (tags.length > 0 ? 'GREEN' : '#fff') + '" class="list-group-item">'+pkgList[i]+'</li>');
        }
      }

      $('#package-list').on('click', 'li', function() {
        var selectedPkg = $(this).text();
        $(this).css("border", "3px solid #000")
        selPackage = $(this);
        $("#selected_tags").text(selectedPkg);
        populateTags(selectedPkg);
      });

      function populateTags(selectedPkg){
        var tags = userRespData.data.package_topic_map[selectedPkg];
        $("#droppable-list").empty();
        $("#tag-list").empty();
        if(tags.length>0){
          for(var i =0;i<tags.length;i++){
            $("#droppable-list").append('<li class="list-group-item draggable ui-state-default">'+tags[i]+'</li>');
          }
          initDragDrop();
        }

        var filterdAggregatedTagList = aggregatedTagList.filter( function ( elem ) {
          return tags.indexOf( elem ) === -1;
        });

        if(filterdAggregatedTagList.length>0){
          for(var i =0;i<filterdAggregatedTagList.length;i++){
            $("#tag-list").append('<li class="list-group-item draggable ui-state-default">'+filterdAggregatedTagList[i]+'</li>');
          }
          initDragDrop();
        }
      }

      function initDragDrop(){
         $( ".draggable" ).draggable({
            appendTo: "body", 
            helper: "clone"
        });

        $( ".droppable" ).droppable({            
            drop: function(event, ui){
                 if($(this).attr('id')=="droppable-list" && $(this).children().length < 4 ){
                  $(this).append(ui.draggable);
                  $(ui.draggable).css({position:'absolute',
                   left: (ui.offset.left - $(this).offset().left) +'px', 
                   top: (ui.offset.top - $(this).offset().top) + 'px'}); 
                 } else if ($(this).attr('id')=="tag-list"){
                  $(this).append(ui.draggable);
                  $(ui.draggable).css({position:'absolute',
                   left: (ui.offset.left - $(this).offset().left) +'px', 
                   top: (ui.offset.top - $(this).offset().top) + 'px'});   
                } else{
                  alert("maximum limit for tagging reached");
                }            
            }
        });

        $( "ul, li" ).disableSelection();
      }

      $(function() {
        $("#user1").hide();
        setupUser(); 
        initDragDrop();
    });

    //TODO : get text on dropped list
    $('#droppable-list li').each(function(i){
        console.log($(this).text()); // This is your rel value
    });

    function myTagSearch() {
        // Declare variables
        var input, filter, ul, li, a, i;
        input = document.getElementById('myInputTags');
        filter = input.value.toUpperCase();
        ul = document.getElementById("tag-list");
        li = ul.getElementsByTagName('li');

        // Loop through all list items, and hide those who don't match the search query
        for (i = 0; i < li.length; i++) {
            if (li[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
                li[i].style.display = "";
            } else {
                li[i].style.display = "none";
            }
        }
    }

  function myPackageSearch() {
    // Declare variables
    var input, filter, ul, li, a, i;
    input = document.getElementById('myInputPackage');
    filter = input.value.toUpperCase();
    ul = document.getElementById("package-list");
    li = ul.getElementsByTagName('li');

    // Loop through all list items, and hide those who don't match the search query
    for (i = 0; i < li.length; i++) {
        if (li[i].innerHTML.toUpperCase().indexOf(filter) > -1) {
            li[i].style.display = "";
        } else {
            li[i].style.display = "none";
        }
    }
  }

  function setTagUpdateFunc(ev){
      var tagdataUpdate = {user:"",data:""};
      var listOfSelectedTag = [];
      $('#droppable-list li').each(function(i){
        console.log($(this).text()); // This is your rel value
        listOfSelectedTag.push($(this).text());
      });
      var curPkg = $("#selected_tags").text();
      userRespData.data.package_topic_map[curPkg] = listOfSelectedTag;
      console.log(userRespData);
      
        var urlTag = "http://tagging-tag-data.dev.rdu2c.fabric8.io/api/v1/submit_user_tags";
        $.ajax({
            type: "POST",
            url: urlTag,
            data: JSON.stringify(userRespData),
            contentType: "application/json", 
            success: function(response){
                alert("success!!");
                selPackage.css("background","green");
                selPackage.css("border", "1px solid #ccc")
            },
            error: function(err){
                alert("failed to tag package :" + err);
            }
        });

      ev.preventDefault();
      
  }

//   function setMannualTagUpdateFunc(ev){
//       var tagTyped = $("#mannualInputTags").val();
//       $("#droppable-list").append('<li class="list-group-item draggable ui-state-default">'+tagTyped+'</li>');
//       initDragDrop();
//   }